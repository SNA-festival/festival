{"filter":false,"title":"views.py","tooltip":"/festival/mysite/blog/views.py","undoManager":{"mark":92,"position":92,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":23},"action":"insert","lines":["# -*- coding: utf-8 -*-"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":44},"end":{"row":4,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":0},"end":{"row":6,"column":46},"action":"insert","lines":["from django.template import RequestContext","from myproject.myapp.models import Document","from myproject.myapp.forms import DocumentForm"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":42},"end":{"row":5,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":5,"column":1},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":5,"column":1},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":46},"end":{"row":8,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":5},"end":{"row":6,"column":14},"action":"remove","lines":["myproject"]},{"start":{"row":6,"column":5},"end":{"row":6,"column":6},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":6},"end":{"row":6,"column":7},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":7},"end":{"row":6,"column":8},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":8},"end":{"row":6,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":9},"end":{"row":6,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":10},"end":{"row":6,"column":11},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"remove","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":12},"end":{"row":6,"column":13},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":13},"end":{"row":6,"column":14},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":14},"end":{"row":6,"column":15},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":15},"end":{"row":6,"column":16},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":5},"end":{"row":7,"column":20},"action":"remove","lines":["myproject.myapp"]},{"start":{"row":7,"column":5},"end":{"row":7,"column":16},"action":"insert","lines":["mysite.blog"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":51},"end":{"row":57,"column":0},"action":"insert","lines":["",""]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":4},"end":{"row":58,"column":0},"action":"insert","lines":["",""]},{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":4},"end":{"row":59,"column":0},"action":"insert","lines":["",""]},{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":80,"column":5},"action":"insert","lines":["def list(request):","    # Handle file upload","    if request.method == 'POST':","        form = DocumentForm(request.POST, request.FILES)","        if form.is_valid():","            newdoc = Document(docfile = request.FILES['docfile'])","            newdoc.save()","","            # Redirect to the document list after POST","            return HttpResponseRedirect(reverse('myproject.myapp.views.list'))","    else:","        form = DocumentForm() # A empty, unbound form","","    # Load documents for the list page","    documents = Document.objects.all()","","    # Render list page with the documents and the form","    return render_to_response(","        'myapp/list.html',","        {'documents': documents, 'form': form},","        context_instance=RequestContext(request)","    )"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":1},"end":{"row":59,"column":0},"action":"insert","lines":["",""]},{"start":{"row":59,"column":0},"end":{"row":59,"column":1},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":59,"column":1},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":2},"end":{"row":59,"column":3},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":3},"end":{"row":59,"column":4},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":3},"end":{"row":59,"column":4},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":2},"end":{"row":59,"column":3},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":1},"end":{"row":59,"column":2},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":2},"end":{"row":59,"column":3},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":3},"end":{"row":59,"column":4},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":4},"end":{"row":59,"column":5},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":5},"end":{"row":59,"column":6},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":6},"end":{"row":59,"column":7},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":7},"end":{"row":59,"column":8},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":8},"end":{"row":59,"column":9},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":9},"end":{"row":59,"column":10},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":14},"end":{"row":59,"column":15},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":15},"end":{"row":59,"column":16},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":16},"end":{"row":59,"column":17},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":17},"end":{"row":59,"column":18},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":19},"end":{"row":59,"column":20},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":20},"end":{"row":59,"column":21},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":21},"end":{"row":59,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":49},"end":{"row":69,"column":64},"action":"remove","lines":["myproject.myapp"]},{"start":{"row":69,"column":49},"end":{"row":69,"column":60},"action":"insert","lines":["mysite.blog"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":9},"end":{"row":78,"column":14},"action":"remove","lines":["myapp"]},{"start":{"row":78,"column":9},"end":{"row":78,"column":13},"action":"insert","lines":["blog"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":44},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":44},"action":"insert","lines":["from django.http import HttpResponseRedirect"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":44},"action":"remove","lines":["from django.http import HttpResponseRedirect"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":47},"action":"insert","lines":["from django.shortcuts import render_to_response"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":5},"end":{"row":7,"column":16},"action":"remove","lines":["mysite.blog"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":5},"end":{"row":8,"column":16},"action":"remove","lines":["mysite.blog"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":14},"end":{"row":79,"column":15},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":15},"end":{"row":79,"column":16},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":16},"end":{"row":79,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":17},"end":{"row":79,"column":18},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":18},"end":{"row":79,"column":19},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":20},"end":{"row":79,"column":21},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":20},"end":{"row":79,"column":21},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["t"]}]}]]},"ace":{"folds":[],"scrolltop":1039.1666932106018,"scrollleft":0,"selection":{"start":{"row":60,"column":26},"end":{"row":60,"column":26},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":69,"state":"start","mode":"ace/mode/python"}},"timestamp":1419864829599,"hash":"37bf739f1b3e46d6fe053356676423a8283c75d5"}